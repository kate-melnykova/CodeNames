{% extends 'base.html' %}

{% block content %}
<p>
    <p>
        <table style="width:250px; border: 1px solid grey;">
            {% for colors in game.coloring | batch(5) %}
                <tr>
                    {% for c in colors %}
                        <td style="background-color:{{c}}; height: 50px;"></td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>
    </p>
    <br>
    <table>
        <tr>
            <td> Red team </td>
            <td></td>
            <td></td>
            <td></td>
            <td> Blue team</td>
        </tr>
        <tr>
            <td>Codemaster {{game.codemaster_red.name}}
                <br>
                <ul>
                    {% for p in game.get_all_players() %}
                        {% if (p.team == 'red') and not p.codemaster %}
                            <li>
                                {{p.name}}
                            </li>
                        {% endif %}
                    {% endfor %}
                </ul>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td>Codemaster {{game.codemaster_blue.name}}</td>
        </tr>
        <tr>
            <td>
                <ul>
                    {% for p in game.get_all_players() %}
                        {% if (p.team == 'red') and not p.codemaster %}
                            <li>
                                {{p.name}}
                            </li>
                        {% endif %}
                    {% endfor %}
                </ul>
            </td>
            <td></td>
            <td></td>
            <td></td>
            <td>
                <ul>
                    {% for p in game.get_all_players() %}
                        {% if (p.team == 'blue') and not p.codemaster %}
                            <li>
                                {{p.name}}
                            </li>
                        {% endif %}
                    {% endfor %}
                </ul>
            </td>
        </tr>
    {% for row in game.cards_selected | batch(5) %}
        <tr>
            {% for filename in row %}
            {% if loop.index in game.revealed %}
                <td style="background-color:{{game.coloring[loop.index]}}">
                </td>
                {% else %}
                    <td>
                        <img src="{{url_for('static', filename=filename)}}" width="100">
                    </td>
                {% endif %}
            {% endfor %}
        </tr>
    {% endfor %}
</table>
</div>
{% endblock %}
